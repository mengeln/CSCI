source('P:/PartTimers/MarkEngeln/bug_mmi/hybridindex/R/class3_metricMean.r', echo=TRUE)
str(summary(fulltest))
str(summary(fulltest, "detailed"))
source('~/.active-rstudio-document', echo=TRUE)
str(summary(fulltest, "detailed"))
source('~/.active-rstudio-document', echo=TRUE)
str(summary(fulltest, "detailed"))
source('~/.active-rstudio-document', echo=TRUE)
str(summary(fulltest, "detailed"))
fulltest@oeresults
fulltest@iterations
apply(bugcal.pa,2,function(x){tapply(x,grps.final,function(y){sum(y)/length(y)})})
predict(oe_stuff[[1]],newdata=fulltest@predictors[,oe_stuff[[4]]],type='prob') %*% apply(bugcal.pa,2,function(x){tapply(x,grps.final,function(y){sum(y)/length(y)})})
source('~/.active-rstudio-document', echo=TRUE)
str(summary(fulltest, "detailed"))
viewData(summary(fulltest, "detailed"))
source('P:/PartTimers/MarkEngeln/bug_mmi/hybridindex/R/class3_metricMean.r', echo=TRUE)
fulltest <- new("metricMean", mmi_result, oe_result)
viewData(summary(fulltest, "detailed"))
viewData(summary(fulltest, "detailed"))
viewData(summary(fulltest, "detailed"))
viewData(fulltest@metrics)
source('~/.active-rstudio-document', echo=TRUE)
mmi_result <- score(new("mmi", bugsnew, stations))
oe_result <- score(new("oe", bugsnew, stations))
fulltest <- new("metricMean", mmi_result, oe_result)
viewData(summary(fulltest, "detailed"))
viewData(merge(summary(fulltest), validation[, c("SampleID", "MMI", "OoverE", "CSCI")], by="SampleID"))
viewData(summary(fulltest, "detailed"))
str(summary(fullest, "complete"))
str(summary(fulltest, "complete"))
names(summary(fulltest, "complete"))
str(summary(fulltest, "complete"))
source('P:/PartTimers/MarkEngeln/bug_mmi/hybridindex/R/class3_metricMean.r', echo=TRUE)
str(summary(fulltest, "complete"))
viewData(summary(fulltest, "detailed"))
reports <- lapply(c("core", "Supp1_mmi", "Suppl1_grps", "Suppl1_OE.E", "Suppl1_OE.O"), function(report)summary(fulltest, report))
report_names <- c("core", "Supp1_mmi", "Suppl1_grps", "Suppl1_OE.E", "Suppl1_OE.O")
lapply(1:5, function(i)write.csv(reports[[i]], file=paste0("C:/Documents and Settings/gisuser/Desktop/", report_names[i], ".csv")))
reports[[1]]
reports[1]
reports
reports <- lapply(report_names, function(report)summary(fulltest, report))
reports
library(hybridindex)
source('P:/PartTimers/MarkEngeln/bug_mmi/hybridindex/R/class3_metricMean.r', echo=TRUE)
reports <- lapply(report_names, function(report)summary(fulltest, report))
library(plyr)
reports <- lapply(report_names, function(report)summary(fulltest, report))
library(reshape2)
reports <- lapply(report_names, function(report)summary(fulltest, report))
reports
lapply(1:5, function(i)write.csv(reports[[i]], file=paste0("C:/Documents and Settings/gisuser/Desktop/", report_names[i], ".csv")))
source('~/.active-rstudio-document', echo=TRUE)
reports <- lapply(report_names, function(report)summary(fulltest, report))
lapply(1:5, function(i)write.csv(reports[[i]], file=paste0("C:/Documents and Settings/gisuser/Desktop/", report_names[i], ".csv")))
paste0("pGroup", 1:11)
colnames
source('P:/PartTimers/MarkEngeln/bug_mmi/hybridindex/R/class3_metricMean.r', echo=TRUE)
source('P:/PartTimers/MarkEngeln/bug_mmi/hybridindex/R/class3_metricMean.r', echo=TRUE)
report_names <- c("core", "Supp1_mmi", "Suppl1_grps", "Suppl1_OE.E", "Suppl1_OE.O")
reports <- lapply(report_names, function(report)summary(fulltest, report))
lapply(1:5, function(i)write.csv(reports[[i]], file=paste0("C:/Documents and Settings/gisuser/Desktop/", report_names[i], ".csv")))
source('P:/PartTimers/MarkEngeln/bug_mmi/hybridindex/R/class3_metricMean.r', echo=TRUE)
reports <- lapply(report_names, function(report)summary(fulltest, report))
lapply(1:5, function(i)write.csv(reports[[i]], file=paste0("C:/Documents and Settings/gisuser/Desktop/", report_names[i], ".csv")))
source('P:/PartTimers/MarkEngeln/bug_mmi/hybridindex/R/class2_oe.r', echo=TRUE)
library(CSCI)
library(RSQLite)
con <- dbConnect("sqlite", "hybridindex/Data/bug_metadata_test.db.db")
con <- dbConnect("SQLITE", "hybridindex/Data/bug_metadata_test.db.db")
con <- dbConnect("SQLiteConnection", "hybridindex/Data/bug_metadata_test.db.db")
?dbConnect
?RSQLite
con <- dbConnect("SQLite", "hybridindex/Data/bug_metadata_test.db.db")
dbListTables(con)
con <- dbConnect("SQLite", "hybridindex/Data/bug_metadata_test.db")
dbListTables(con)
ibi <- dbGetQuery(con, "SELECT * FROM ibi")
View(ibi)
write.csv(ibi, file="C:/Documents and Settings/gisuser/Desktop/csci_metadata.csv")
unique(ibi$CustomSTE)
sort(unique(ibi$CustomSTE))
otu <- dbGetQuery(con, "SELECT * FROM otu_crosswalk")
View(otu)
ibi_otu <- merge(ibi, otu)
View(ibi_otu)
ibi_otu <- merge(ibi, otu, by="FinalID")
View(ibi_otu)
View(otu)
View(ibi_otu)
ibi <- dbGetQuery(con, "SELECT * FROM ibitable2")
library(RSQLite)
con <- dbConnect("SQLite", "hybridindex/Data/bug_metadata_test.db")
ibi <- dbGetQuery(con, "SELECT * FROM ibitable2")
con <- dbConnect("SQLite", "hybridindex/Data/bug_metadata.db")
ibi <- dbGetQuery(con, "SELECT * FROM ibitable2")
View(ibi)
write.csv(ibi, file="C:/Documents and Settings/gisuser/Desktop/csci_metadata.csv")
ibi <- subset(dbGetQuery(con, "SELECT * FROM ibitable2"), !(SAFIT1__OTU_a_original %in% "Ambiguous"))
nrow(ibi)
write.csv(ibi, file="C:/Documents and Settings/gisuser/Desktop/csci_metadata.csv")
write.csv(ibi, file="C:/Documents and Settings/gisuser/Desktop/csci_metadata.csv")
ibi <- subset(dbGetQuery(con, "SELECT * FROM ibitable2"), !(SAFIT1__OTU_a_original %in% c("Ambiguous", "Unambiguous_NotAtRefCal", "Exclude")"))
nrow(ibi)
write.csv(ibi, file="C:/Documents and Settings/gisuser/Desktop/csci_metadata.csv")
ibi <- subset(dbGetQuery(con, "SELECT * FROM ibitable2"), !(SAFIT1__OTU_a %in% c("Ambiguous", "Unambiguous_NotAtRefCal", "Exclude")"))
ibi <- subset(dbGetQuery(con, "SELECT * FROM ibitable2"), !(SAFIT1__OTU_a %in% c("Ambiguous", "Unambiguous_NotAtRefCal", "Exclude")))
nrow(ibi)
write.csv(ibi, file="C:/Documents and Settings/gisuser/Desktop/csci_metadata.csv")
source('P:/PartTimers/MarkEngeln/bug_mmi/hybridindex/R/class2_mmi.r', echo=TRUE)
library(RSQLite)
source('P:/PartTimers/MarkEngeln/bug_mmi/hybridindex/R/class2_mmi.r', echo=TRUE)
source('P:/PartTimers/MarkEngeln/bug_mmi/hybridindex/R/class1_bugs.r', echo=TRUE)
rm(list=ls())
source('P:/PartTimers/MarkEngeln/bug_mmi/hybridindex/R/0_generics.r', echo=TRUE)
source('P:/PartTimers/MarkEngeln/bug_mmi/hybridindex/R/0_helpers.r', echo=TRUE)
source('P:/PartTimers/MarkEngeln/bug_mmi/hybridindex/R/class1_bugs.r', echo=TRUE)
source('P:/PartTimers/MarkEngeln/bug_mmi/hybridindex/R/class2_mmi.r', echo=TRUE)
source('P:/PartTimers/MarkEngeln/bug_mmi/hybridindex/R/class2_oe.r', echo=TRUE)
source('P:/PartTimers/MarkEngeln/bug_mmi/hybridindex/R/class3_metricMean.r', echo=TRUE)
stations <- read.csv("C:/Documents and Settings/gisuser/Desktop/stations.demo.csv")
bugs <- read.csv("C:/Documents and Settings/gisuser/Desktop/bugs.demo.csv")
bugs
mmi <- new("mmi", stations, bugs)
mmi_s <- score(mmi)
library(RSQLite)
library(BMIMetrics)
mmi_s <- score(mmi)
View(bugs)
mmi <- new("mmi", stations, bugs)
mmi_s <- score(mmi)
mmi_s <- nameMatch(mmi)
traceback()
mmi <- new("mmi", stations, bugs)
mmi_s <- nameMatch(mmi)
View(bugs)
names(bugs)
mmi@bugdata
names(mmi@bugdata)
mmi <- new("mmi", bugs, stations)
mmi_s <- score(mmi)
library(foreach)
mmi_s <- score(mmi)
library(doParallel)
mmi_s <- score(mmi)
library(data.table)
mmi_s <- score(mmi)
traceback()
mmi_s <- rForest(mmi)
mmi_s <- metrics(mmi)
rForest(mmi_s)
traceback()
head(mmi_s@modelprediction)
source('~/.active-rstudio-document', echo=TRUE)
mmi_s <- metrics(mmi)
mmi_s@metrics
rForest(mmi_s)
source('~/.active-rstudio-document', echo=TRUE)
rForest(mmi_s)
source('~/.active-rstudio-document', echo=TRUE)
rForest(mmi_s)
source('~/.active-rstudio-document', echo=TRUE)
rForest(mmi_s)
mmi_s <- scoremmi)
mmi_s <- score(mmi)
traceback()
mmi_s <- rForest(mmi)
mmi_s@modelprediction
View(mmi_s@modelprediction)
source('~/.active-rstudio-document', echo=TRUE)
source('~/.active-rstudio-document', echo=TRUE)
mmi_s <- score(mmi)
source('~/.active-rstudio-document', echo=TRUE)
mmi_s <- score(mmi)
source('~/.active-rstudio-document', echo=TRUE)
mmi_s <- score(mmi)
source('~/.active-rstudio-document', echo=TRUE)
mmi_s <- score(mmi)
source('~/.active-rstudio-document', echo=TRUE)
mmi_s <- score(mmi)
source('~/.active-rstudio-document', echo=TRUE)
mmi_s <- score(mmi)
source('~/.active-rstudio-document', echo=TRUE)
mmi_s <- score(mmi)
source('~/.active-rstudio-document', echo=TRUE)
mmi_s <- score(mmi)
traceback()
mmi_s <- rForest(mmi)
mmi_@modelpredictions
mmi_s@modelpredictions
mmi_s@modelprediction
source('~/.active-rstudio-document', echo=TRUE)
score(mmi_s)
mmi_s@metrics
source('~/.active-rstudio-document', echo=TRUE)
mmi_s <- rForest(mmi)
score(mmi_s)
mmi_s@metrics
source('~/.active-rstudio-document', echo=TRUE)
mmi_s <- rForest(mmi)
source('~/.active-rstudio-document', echo=TRUE)
mmi_s <- rForest(mmi)
score(mmi_s)
mmi_s@metrics
source('~/.active-rstudio-document', echo=TRUE)
mmi_s <- rForest(mmi)
source('~/.active-rstudio-document', echo=TRUE)
mmi_s <- rForest(mmi)
source('~/.active-rstudio-document', echo=TRUE)
mmi_s <- rForest(mmi)
score(mmi_s)
load("P:/PartTimers/MarkEngeln/bug_mmi/hybridindex/Data/maxmin.rdata")
score(mmi_s)
source('~/.active-rstudio-document', echo=TRUE)
score(mmi_s)
source('~/.active-rstudio-document', echo=TRUE)
score(mmi_s)
source('~/.active-rstudio-document', echo=TRUE)
score(mmi_s)
source('~/.active-rstudio-document', echo=TRUE)
score(mmi_s)
source('~/.active-rstudio-document', echo=TRUE)
score(mmi_s)
source('~/.active-rstudio-document', echo=TRUE)
score(mmi_s)
source('~/.active-rstudio-document', echo=TRUE)
mmi_s <- score(mmi)
summary(mmi_s)
oe <- new("oe", bugs, stations)
oe_s <- score(oe)
library(reshape2)
oe_s <- score(oe)
rm(list=ls())
source('P:/PartTimers/MarkEngeln/bug_mmi/hybridindex/R/0_generics.r', echo=TRUE)
source('P:/PartTimers/MarkEngeln/bug_mmi/hybridindex/R/0_helpers.r', echo=TRUE)
source('P:/PartTimers/MarkEngeln/bug_mmi/hybridindex/R/class1_bugs.r', echo=TRUE)
source('P:/PartTimers/MarkEngeln/bug_mmi/hybridindex/R/class2_oe.r', echo=TRUE)
library(RSQLite)
library(BMIMetrics)
library(foreach)
library(doParallel)
library(data.table)
library(reshape2)
source('P:/PartTimers/MarkEngeln/bug_mmi/hybridindex/R/class1_bugs.r', echo=TRUE)
source('P:/PartTimers/MarkEngeln/bug_mmi/hybridindex/R/class2_mmi.r', echo=TRUE)
source('P:/PartTimers/MarkEngeln/bug_mmi/hybridindex/R/class3_metricMean.r', echo=TRUE)
source('P:/PartTimers/MarkEngeln/bug_mmi/hybridindex/R/class3_metricMean.r', echo=TRUE)
source('P:/PartTimers/MarkEngeln/bug_mmi/hybridindex/R/class3_metricMean.r', echo=TRUE)
source('P:/PartTimers/MarkEngeln/bug_mmi/hybridindex/R/class2_oe.r', echo=TRUE)
stations <- read.csv("C:/Documents and Settings/gisuser/Desktop/stations.demo.csv")
bugs <- read.csv("C:/Documents and Settings/gisuser/Desktop/bugs.demo.csv")
mmi <- new("mmi", bugs, stations)
mmi_s <- score(mmi)
load("hybridindex/Data/maxmin.rdata")
mmi_s <- score(mmi)
View(summary(mmi_s))
oe <- new("oe", bugs, stations)
oe_s <- score(oe)
oe_s <- rForest(oe)
oe_s <- subsample(oe)
oe_s@oesubsample
head(oe_s@oesubsample)
source('~/.active-rstudio-document', echo=TRUE)
score(oe_s)
source('~/.active-rstudio-document', echo=TRUE)
score(oe_s)
source('~/.active-rstudio-document', echo=TRUE)
score(oe_s)
source('~/.active-rstudio-document', echo=TRUE)
source('~/.active-rstudio-document', echo=TRUE)
e
score(oe_s)
source('~/.active-rstudio-document', echo=TRUE)
score(oe_s)
source('~/.active-rstudio-document', echo=TRUE)
score(oe_s)
source('~/.active-rstudio-document', echo=TRUE)
score(oe_s)
source('~/.active-rstudio-document', echo=TRUE)
score(oe_s)
source('~/.active-rstudio-document', echo=TRUE)
score(oe_s)
source('~/.active-rstudio-document', echo=TRUE)
score(oe_s)
oe_s <- score(oe)
res <- new("metricMean", mmi_s, oe_s)
summary(res)
summary(res, report="Supp1_mmi")
summary(res, report="Supp1_mmi")
summary(res, report="Supp1_OE.E")
summary(res, report="Supp1_OE.O")
summary(res, report="Supp1_OE.E")
traceback()
load("P:/PartTimers/MarkEngeln/bug_mmi/hybridindex/Data/oe_stuff.rdata")
summary(res, report="Supp1_OE.E")
summary(res, report="Supp1_OE.O")
View(summary(res, report="Supp1_OE.O"))
oe_stuff[[1]]
summary(res, report="Suppl1_grps")
View(summary(res, report="Supp1_OE.O"))
bugcal.pa
source('~/.active-rstudio-document', echo=TRUE)
summary(res, report="Supp1_OE.E")
summary(res, report="Suppl1_OE.E")
oe_stuff
str(oe_stuff)
source('~/.active-rstudio-document', echo=TRUE)
summary(res, report="Suppl1_OE.E")
source('~/.active-rstudio-document', echo=TRUE)
summary(res, report="Suppl1_OE.E")
summary(res, report="Suppl1_OE.O")
lapply(c("core", "Supp1_mmi", "Suppl1_grps", "Suppl1_OE.E", "Suppl1_OE.O"),
function(rep)write.csv(summary(res, report=rep), file=paste0("C:/Documents and Settings/gisuser/Desktop/", rep, ".csv")))
source('~/.active-rstudio-document', echo=TRUE)
?source
sourceDir <- function(path, trace = TRUE, ...) {
for (nm in list.files(path, pattern = "\\.[RrSsQq]$")) {
if(trace) cat(nm,":")
source(file.path(path, nm), ...)
if(trace) cat("\n")
}
}
sourceDir("hybridindex/R/")
source('~/.active-rstudio-document', echo=TRUE)
source('P:/PartTimers/MarkEngeln/bug_mmi/hybridindex/R/class3_metricMean.r')
source('~/.active-rstudio-document')
summary(res, report="Suppl1_OE")
test <- summary(res, report="Suppl1_OE")
View(test)
sourceDir("hybridindex/R/")
test <- summary(res, report="Suppl1_OE")
View(test)
?match.arg
?return
r <- list()
is.null(r)
is.na(r)
length(r)
c(data.frame(), data.frame())
str(c(data.frame(), data.frame()))
?add
rm(list=ls())
source('~/.active-rstudio-document', echo=TRUE)
source('~/.active-rstudio-document', echo=TRUE)
source('~/.active-rstudio-document', echo=TRUE)
View(test)
test <- summary(res, report=c("core", "Suppl1_OE")
test <- summary(res, report=c("core", "Suppl1_OE"))
View(test)
str(test)
source('P:/PartTimers/MarkEngeln/bug_mmi/hybridindex/R/class3_metricMean.r', echo=TRUE)
test <- summary(res, report=c("core", "Suppl1_OE"))
str(test)
source('P:/PartTimers/MarkEngeln/bug_mmi/hybridindex/R/class3_metricMean.r', echo=TRUE)
test <- summary(res, report="all")
str(test)
source('P:/PartTimers/MarkEngeln/bug_mmi/hybridindex/R/class3_metricMean.r', echo=TRUE)
test <- summary(res, report="all")
str(test)
source('P:/PartTimers/MarkEngeln/bug_mmi/hybridindex/R/class3_metricMean.r', echo=TRUE)
test <- summary(res, report="all")
str(test)
source('~/.active-rstudio-document', echo=TRUE)
test <- summary(res, report="all")
str(test)
?append
source('P:/PartTimers/MarkEngeln/bug_mmi/hybridindex/R/class3_metricMean.r', echo=TRUE)
test <- summary(res, report="all")
str(test)
source('~/.active-rstudio-document', echo=TRUE)
test <- summary(res, report="all")
str(test)
source('~/.active-rstudio-document', echo=TRUE)
test <- summary(res, report="all")
str(test)
list(0)
?list
list()
lappend <- function(lst, obj) {
lst[[length(lst)+1]] <- obj
return(lst)
}
lappend(list(), data.frame(1, 2, 3))
source('~/.active-rstudio-document', echo=TRUE)
test <- summary(res, report="all")
source('~/.active-rstudio-document', echo=TRUE)
test <- summary(res, report="all")
str(test)
test <- summary(res, report="core")
str(test)
transform(test)
View(transform(test))
test <- summary(res, report="all")
View(transform(test))
source('P:/PartTimers/MarkEngeln/bug_mmi/hybridindex/R/class3_metricMean.r', echo=TRUE)
test <- summary(res, report="all")
str(test)
test <- summary(res, report="core")
test
test <- summary(res, report="all")
View(test[[3]])
res@oesubsample
str(res@oesubsample)
source('~/.active-rstudio-document', echo=TRUE)
test <- summary(res, report="all")
source('P:/PartTimers/MarkEngeln/bug_mmi/hybridindex/R/class3_metricMean.r', echo=TRUE)
test <- summary(res, report="all")
str(test)
names(test)
View(res@oesubsample)
View(res@oesubsample)
?merge
source('~/.active-rstudio-document', echo=TRUE)
test <- summary(res, report="all")
test
str(test)
source('~/.active-rstudio-document', echo=TRUE)
test <- summary(res, report="all")
source('~/.active-rstudio-document', echo=TRUE)
source('~/.active-rstudio-document', echo=TRUE)
test <- summary(res, report="all")
source('~/.active-rstudio-document', echo=TRUE)
test <- summary(res, report="all")
str(test)
View(test[[5]])
View(test[[4]])
View(test[[4]])
source('~/.active-rstudio-document', echo=TRUE)
test <- summary(res, report="all")
View(test[[5]])
source('~/.active-rstudio-document', echo=TRUE)
source('~/.active-rstudio-document', echo=TRUE)
test <- summary(res, report="all")
str(test)
View(test[[5]])
source('P:/PartTimers/MarkEngeln/bug_mmi/hybridindex/R/class3_metricMean.r', echo=TRUE)
test <- summary(res, report="all")
View(test[[5]])
source('~/.active-rstudio-document', echo=TRUE)
test <- summary(res, report="all")
source('~/.active-rstudio-document', echo=TRUE)
test <- summary(res, report="all")
View(test[[5]])
plot(test)
View(test[[2]])
test@metrics
res@metrics
View(res@metrics)
View(melt(res@metrics))
View(res@metrics)
substr(res@metrics$SampleID, -1, -1)
substr(res@metrics$SampleID, -2, -1)
substr(res@metrics$SampleID, -2, -2)
substr(res@metrics$SampleID, -3, -2)
substr(res@metrics$SampleID, 1, 2)
substr(res@metrics$SampleID, nchar(res@metrics$SampleID)-1, nchar(res@metrics$SampleID))
substr(res@metrics$SampleID, nchar(res@metrics$SampleID), nchar(res@metrics$SampleID))
substr(res@metrics$SampleID, 0, nchar(res@metrics$SampleID))
substr(res@metrics$SampleID, 0, nchar(res@metrics$SampleID)-1)
source('~/.active-rstudio-document', echo=TRUE)
source('~/.active-rstudio-document', echo=TRUE)
source('~/.active-rstudio-document', echo=TRUE)
test <- summary(res, report="all")
source('~/.active-rstudio-document', echo=TRUE)
test <- summary(res, report="all")
View(test[[6]])
View(test[[5]])
str(test)
source('~/.active-rstudio-document', echo=TRUE)
test <- summary(res, report="all")
str(melt(res@metrics))
source('~/.active-rstudio-document', echo=TRUE)
test <- summary(res, report="all")
str(test)
?str
str(test, 2)
str(test, 1)
source('~/.active-rstudio-document', echo=TRUE)
test <- summary(res, report="all")
str(test, 1)
names(test)
names(test)[-1]
source('~/.active-rstudio-document', echo=TRUE)
test <- summary(res, report="all")
names(test)[-1]
View(test[[6]])
?pmatch
View(test[[6]])
source('~/.active-rstudio-document', echo=TRUE)
test <- summary(res, report="all")
View(test[[6]])
View(test[[6]])
source('~/.active-rstudio-document', echo=TRUE)
test <- summary(res, report="all")
View(test[[6]])
source('~/.active-rstudio-document', echo=TRUE)
test <- summary(res, report="all")
View(test[[6]])
source('~/.active-rstudio-document', echo=TRUE)
test <- summary(res, report="all")
View(test[[6]])
is.na(test[[6]]$replicate)
(test[[6]]$replicate) == 0
(test[[6]]$replicate) == ""
source('P:/PartTimers/MarkEngeln/bug_mmi/hybridindex/R/class3_metricMean.r', echo=TRUE)
test <- summary(res, report="all")
View(test$Suppl2_mmi)
View(test$Suppl2_OE)
View(test$Suppl2_OE)
library(CSCI)
match.call(get, call("get", "abc", i = FALSE, p = 3))
